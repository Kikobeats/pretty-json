<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pretty-json</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/awsm.css@3.0.4/dist/awsm.min.css">
  <meta property="og:title" content="pretty-json">
  <meta property="og:description" content="It makes your API response beautiful">
  <meta property="og:url" content="https://github.com/Kikobeats/pretty-json/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@Kikobeats">
  <style>
    p code {
      font-size: .8em;
    }

    p+ul {
      margin: 1em 0;
    }

    h2 {
      margin-bottom: 0.625em;
    }

    h3 {
      margin-bottom: 1.25em;
    }
  </style>
  <script>
    if (location.hostname === 'localhost') localStorage.clear();
    var version = '3.0.4';
    var themes = JSON.parse('[{"title":"white","prismTheme":""},{"title":"gondola","prismTheme":"tomorrow"},{"title":"mischka","prismTheme":"okaidia"},{"title":"big-stone","prismTheme":"tomorrow"},{"title":"black","prismTheme":""},{"title":"tasman","prismTheme":""},{"title":"pastel-pink","prismTheme":""},{"title":"pearl-lusta","prismTheme":"solarizedlight"}]');
    var storedVersion = localStorage.getItem('awsm-version');

    if (version !== storedVersion) {
      localStorage.removeItem('awsm-current-theme');
      localStorage.removeItem('awsm-themes');
      localStorage.setItem('awsm-version', version);
    }

    function randTheme() {
      return themes[Math.floor(Math.random() * themes.length)]
    }

    function getCSSFileName(theme) {
      return 'https://cdn.jsdelivr.net/npm/awsm.css@3.0.4/dist/awsm_theme_' + theme + '.min.css';
    }

    function appendStyles(str) {
      var style = document.createElement('style');
      style.innerHTML = str;
      document.querySelector('head').appendChild(style);
    }

    function loadTheme() {
      var theme = localStorage.getItem('awsm-current-theme');
      if (!theme || theme === 'white') return;
      reloadTheme(theme);
    }

    function reloadTheme(theme) {
      var storedThemesStr = localStorage.getItem('awsm-themes');
      if (!storedThemesStr) return;
      var storedThemes = JSON.parse(storedThemesStr);
      appendStyles(storedThemes[theme]);
    }

    loadTheme();
  </script>
</head>

<body>
  <header>
    <h1>pretty-json</h1>
    <p>It makes your API response beautiful</p>
  </header>
  <main>
    <article>
      <section>
        <h2><a id="wtf" href="#wtf" aria-hidden="true"></a>What is it?</h2>
        <p><b>pretty-json</b> is a microservice for beautify any API response payload.</p>
      </section>
      <section>
        <h2><a id="usage" href="#usage" aria-hidden="true"></a>Usage</h2>
        <h3><a id="url" href="#url" aria-hidden="true"></a>as URL</h3>
        <p>You Just pass the <code>`url`</code> to the service as query parameter:</p>
        <a target="_blank"
          href="https://pretty-json.now.sh?url=https://microlink-stats-api.now.sh">pretty-json.now.sh?url=https://microlink-stats-api.now.sh</a>
        <h3><a id="data" href="#data" aria-hidden="true"></a>as data</h3>
        <p>Additionally, you can provide the JSON payload as <code>`data`</code> query parameter:</p>
        <a target="_blank"
          href='https://pretty-json.now.sh?data=%7B"foo"%3A"bar"%2C"hello"%3A"world"%2C"ping"%3A12234%7D'>pretty-json.now.sh?data=%7B"foo"%3A"bar"%2C"hello"%3A"world"%2C"ping"%3A12234%7D</a>
        <p>It needs to be encoded with <a target="_blank"
            href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent'>encodeURIComponent</a>)
          .</p>
        <h3><a id="themeable" href="#themeable" aria-hidden="true"></a>themeable</h3>
        <p>You can also customize the <code>`theme`</code>:</p>
        <a target="_blank"
          href="https://pretty-json.now.sh?url=https://microlink-stats-api.now.sh&theme=atom-dark">pretty-json.now.sh?url=https://microlink-stats-api.now.sh&theme=atom-dark</a>
        <p>The <a href="https://github.com/PrismJS/prism-themes/tree/master/themes" target="_blank">supported themes</a>
          are:</p>
        <ul>
          <li>a11y-dark</li>
          <li>atom-dark</li>
          <li>base16-ateliersulphurpool.light</li>
          <li>cb</li>
          <li>darcula</li>
          <li>dracula</li>
          <li>duotone-dark</li>
          <li>duotone-earth</li>
          <li>duotone-forest</li>
          <li>duotone-light</li>
          <li>duotone-sea</li>
          <li>duotone-space</li>
          <li>ghcolors</li>
          <li>hopscotch</li>
          <li>material-dark</li>
          <li>material-light</li>
          <li>material-oceanic</li>
          <li>pojoaque</li>
          <li>shades-of-purple</li>
          <li>synthwave84</li>
          <li>vs</li>
          <li>vsc-dark-plus</li>
          <li>xonokai</li>
        </ul>




      </section>
      <!-- <section>
        <h2><a id="why" href="#why" aria-hidden="true"></a>Why?</h2>
        <p>I had to create simple pages in my daily work. Sometimes it was compiled Markdown, sometimes pure <abbr
            title="HyperText Markup Language is the standard markup language for creating web pages and web applications.">HTML</abbr>.
          I'd like to make them more beautiful without additional classes, ids, etc. So I did it.
        </p>
      </section> -->
    </article>
  </main>
  <footer>
    <a target="_blank" href="https://github.com/Kikobeats/pretty-json">source
      code</a>
  </footer>
  <script>
    function loadCSS(path, cb) {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', path);
      xhr.onreadystatechange = function () {
        if (this.readyState === 4 && this.status === 200) {
          cb(this.responseText);
        }
      };
      xhr.send();
    }

    function updateTheme(theme) {
      localStorage.setItem('awsm-current-theme', theme);
      loadCSS(getCSSFileName(theme), function (text) {
        var storedThemesStr = localStorage.getItem('awsm-themes');
        var storedThemes = JSON.parse(storedThemesStr) || {};
        storedThemes[theme] = text;

        localStorage.setItem('awsm-themes', JSON.stringify(storedThemes));
        reloadTheme(theme);
      });
    }

    var theme = localStorage.getItem('awsm-current-theme');

    if (theme && theme !== 'white') {
      document.getElementById('theme-changer').value = theme;
    }
  </script>
  <script>
    window.addEventListener('click', function () {
      var themeTitle
      var currentThemeTitle = localStorage.getItem('awsm-current-theme')

      while (themeTitle === undefined) {
        var theme = randTheme()

        if (!currentThemeTitle) {
          themeTitle = theme.title
        } else if (currentThemeTitle !== theme.title) {
          themeTitle = theme.title
        }
      }
      updateTheme(themeTitle)
    });
  </script>
</body>

</html>
